<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Food</title>
</head>
<body>
    <div class="container">
        <h2>Do you need food?</h2>
        <form method="POST" action="{% url 'booking' %}">
            {% csrf_token %}
            <!-- Keep track of the selected package and room if applicable -->
            <input type="hidden" name="selected_package" value="{{ selected_package }}">
            <input type="hidden" name="selected_room" value="{{ selected_room }}">
            <input type="hidden" name="need_room" value="{{ need_room }}">

            <!-- Ask if food is needed -->
            <label><input type="radio" name="need_food" value="yes"> Yes</label>
            <label><input type="radio" name="need_food" value="no"> No</label><br><br>

            <!-- Food selection will appear only if "Yes" is selected -->
            <div id="food-selection" style="display: none;">
                <h3>Select Food Items</h3>
                {% for food in menu_items %}
                <label>
                    <input type="checkbox" name="selected_foods" value="{{ food.id }}">
                    {{ food.name }} - â‚¹{{ food.price }}
                </label><br>
                {% endfor %}
            </div>

            <!-- Button to proceed to booking summary -->
            <button type="submit">Next</button>
        </form>
    </div>

    <script>
        // Show/Hide food selection based on the "Yes" or "No" choice
        document.querySelectorAll('input[name="need_food"]').forEach(input => {
            input.addEventListener('change', function() {
                if (this.value === 'yes') {
                    document.getElementById('food-selection').style.display = 'block';
                } else {
                    document.getElementById('food-selection').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
