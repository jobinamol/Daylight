<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Rooms</title>
</head>
<body>
    <div class="container">
        <h2>Do you need a room?</h2>
        <form method="POST" action="{% url 'menu' %}">
            {% csrf_token %}
            <!-- Selected package will be sent to the next step -->
            <input type="hidden" name="selected_package" value="{{ package.id }}">

            <!-- Ask if room is needed -->
            <label><input type="radio" name="need_room" value="yes"> Yes</label>
            <label><input type="radio" name="need_room" value="no"> No</label><br><br>

            <!-- Room selection will appear only if "Yes" is selected -->
            <div id="room-selection" style="display: none;">
                <h3>Select Room Type</h3>
                {% for room in rooms %}
                <label>
                    <input type="radio" name="selected_room" value="{{ room.id }}">
                    {{ room.name }} - â‚¹{{ room.price }}
                </label><br>
                {% endfor %}
            </div>

            <!-- Button to proceed -->
            <button type="submit">Next</button>
        </form>
    </div>

    <script>
        // Show/Hide room selection based on the "Yes" or "No" choice
        document.querySelectorAll('input[name="need_room"]').forEach(input => {
            input.addEventListener('change', function() {
                if (this.value === 'yes') {
                    document.getElementById('room-selection').style.display = 'block';
                } else {
                    document.getElementById('room-selection').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
